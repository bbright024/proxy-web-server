
src/syscall_wraps.c,1182
pid_t Fork(7,171
void Execve(16,281
pid_t Wait(22,432
pid_t Waitpid(31,556
void Kill(40,734
void Pause(48,851
unsigned int Sleep(54,901
unsigned int Alarm(63,1042
void Setpgid(67,1116
pid_t Getpgrp(75,1251
handler_t *Signal(Signal84,1415
void Sigprocmask(97,1809
void Sigemptyset(104,1968
void Sigfillset(111,2081
void Sigaddset(118,2192
void Sigdelset(125,2319
int Sigismember(132,2446
int Sigsuspend(140,2606
int Open(152,2884
ssize_t Read(161,3049
ssize_t Write(170,3202
off_t Lseek(179,3363
void Close(188,3527
int Select(196,3623
int Dup2(206,3866
void Stat(215,3989
void Fstat(221,4105
DIR *Opendir(Opendir231,4311
struct dirent *Readdir(Readdir240,4450
int Closedir(251,4650
void *Mmap(Mmap263,4905
void Munmap(272,5124
void *Malloc(Malloc282,5395
void *Realloc(Realloc291,5521
void *Calloc(Calloc300,5666
void Free(309,5812
void Fclose(317,5987
FILE *Fdopen(Fdopen323,6069
char *Fgets(Fgets333,6215
FILE *Fopen(Fopen343,6395
void Fputs(353,6558
size_t Fread(359,6669
void Fwrite(368,6873
int Socket(379,7122
void Setsockopt(388,7283
void Bind(396,7480
void Listen(404,7638
int Accept(412,7758
void Connect(421,7927

src/cache.c,909
HashTable h_table 14,290
LinkedList ob_list 15,316
static size_t cache_size;17,344
static sem_t cache_size_mutex;19,371
static sem_t cache_mutex;20,402
static sem_t cache_table_mutex;21,428
typedef struct cache_object{cache_object23,461
  char *location;location24,490
  size_t size;25,508
  char type[type26,523
  char host[host27,545
  char filename[filename28,567
} CacheOb;29,593
static int c_init;36,761
static void NullFree(39,842
int cache_init(43,1031
static void free_cache_ob(69,1645
static void __cache_destroy(78,1842
void cache_free_all(96,2426
int check_cache(129,3025
CacheOb *new_cache_obj(new_cache_obj204,4869
int add_to_cache_table(235,5631
static inline void lock_all_cache(261,6260
static inline void unlock_all_cache(268,6369
int add_to_cache(284,6899
static int remove_cache_lru(321,7977
void print_cache(352,8880
uint64_t file_and_host_hash(407,10191

src/pthread_wraps.c,537
void Pthread_create(8,234
void Pthread_cancel(16,464
void Pthread_join(23,600
void Pthread_detach(30,767
void Pthread_exit(36,902
pthread_t Pthread_self(40,965
void Pthread_once(44,1027
void Pthread_mutex_init(48,1152
void P_P(54,1348
void Pthread_mutex_lock(57,1414
void P_V(63,1571
void Pthread_mutex_unlock(66,1639
void Pthread_mutex_destroy(72,1802
void Pthread_cond_init(78,1968
void Pthread_cond_destroy(84,2157
void Pthread_cond_signal(90,2317
void Pthread_cond_broadcast(96,2475
void Pthread_cond_wait(102,2642

src/includes/proxy.h,55
#define INVALID_URL 4,32
#define E_NEXTHOP_CONN 5,54

src/includes/LinkedList.h,262
#define _LINKEDLIST_H_2,23
typedef struct ll_head *LinkedList;LinkedList12,452
typedef void(*LLPayloadFreeFnPtr)LLPayloadFreeFnPtr18,741
typedef int(*LLPayloadComparatorFnPtr)LLPayloadComparatorFnPtr27,1115
typedef struct ll_iter *LLIter;LLIter135,4548

src/includes/params.h,23
#define NBUCKETS 3,14

src/includes/dbg.h,225
#define debug(10,121
#define clean_errno(14,240
#define log_err(16,303
#define log_warn(21,445
#define log_info(25,586
#define check(29,731
#define sentinel(32,825
#define check_mem(35,908
#define check_debug(37,959

src/includes/cache.h,105
#define MAX_CACHE_SIZE 8,140
#define MAX_OBJECT_SIZE 9,171
typedef struct cache_object CacheOb;13,297

src/includes/http.h,252
#define INVALID_URL 9,123
  char method[method13,229
  char url[url14,285
  char version[version15,339
  char host[host16,391
  char filename[filename17,443
  char dest_port[dest_port18,501
  char headers[headers19,572
} ReqData;20,631

src/includes/csapp.h,361
#define DEF_MODE 34,648
#define DEF_UMASK 35,715
typedef struct sockaddr SA;40,857
#define RIO_BUFSIZE 45,984
    int rio_fd;47,1026
    int rio_cnt;48,1096
    char *rio_bufptr;rio_bufptr49,1162
    char rio_buf[rio_buf50,1232
} rio_t;51,1285
#define	MAXLINE	60,1466
#define MAXBUF 61,1516
#define LISTENQ 62,1565
typedef void handler_t(91,2372

src/includes/HashTable_priv.h,549
typedef struct htrec 34,1152
  uint64_t        num_buckets;35,1175
  uint64_t        num_elements;36,1236
  pthread_mutex_t *buck_locks;buck_locks37,1308
  pthread_cond_t  hcond;38,1379
  pthread_mutex_t hlock;39,1450
  sem_t resize_lock;40,1511
  int reading;41,1532
  int resizing;42,1547
  LinkedList     *buckets;buckets43,1563
} HashTableRecord;44,1620
typedef struct ht_itrec 47,1695
  bool       is_valid;48,1721
  HashTable  ht;49,1774
  uint64_t   bucket_num;50,1830
  LLIter     bucket_it;51,1883
} HTIterRecord;52,1945

src/includes/errors.h,25
#define E_NO_SPACE 3,14

src/includes/HashTable.h,265
typedef struct htrec *HashTable;HashTable39,1522
typedef void(*ValueFreeFnPtr)ValueFreeFnPtr44,1736
  uint64_t   key;94,3543
  void      *value;value95,3597
} HTKeyValue, *HTKeyValuePtr;HTKeyValuePtr96,3653
typedef struct ht_itrec *HTIter;HTIter225,7886

src/includes/LinkedList_priv.h,496
typedef struct ll_node 17,709
  void           *payload;payload18,734
  struct ll_node *next;next19,799
  struct ll_node *prev;prev20,857
} LinkedListNode, *LinkedListNodePtr;LinkedListNodePtr21,915
typedef struct ll_head 26,1171
  uint64_t          num_elements;27,1196
  LinkedListNodePtr head;28,1258
  LinkedListNodePtr tail;29,1326
} LinkedListHead;30,1394
typedef struct ll_iter 35,1603
  LinkedList        list;36,1628
  LinkedListNodePtr node;37,1677
} LLIterSt;38,1745

src/network_wraps.c,338
void Getaddrinfo(7,130
void Getnameinfo(17,381
void Freeaddrinfo(27,698
void Inet_ntop(32,766
void Inet_pton(38,917
struct hostent *Gethostbyname(Gethostbyname57,1382
struct hostent *Gethostbyaddr(Gethostbyaddr67,1553
int open_clientfd(89,2168
int open_listenfd(136,3845
int Open_clientfd(188,5718
int Open_listenfd(197,5885

src/proxy.c,256
static int run 22,570
void run_proxy(35,1000
static void *command(command83,2587
static void *process_client(process_client103,2974
static int open_next_hop(186,5625
static inline void thread_uninit(204,6104
static inline int client_init(212,6279

src/errors.c,191
void Usage(4,83
void init_error(10,196
void thread_unix_error(16,264
void unix_error(22,350
void posix_error(34,566
void gai_error(41,732
void app_error(48,902
void dns_error(56,1029

src/main.c,73
#define PORT_ETH_MAX 7,133
#define PORT_ETH_MIN 8,160
int main(11,265

src/http.c,552
static const char *user_agent_hdr user_agent_hdr20,365
static const char *connection_close connection_close21,492
static const char *proxy_con_close proxy_con_close22,555
const char *http_read_request_line(http_read_request_line29,780
const char *http_write_request(http_write_request64,1798
const char *http_relay_resp_body(http_relay_resp_body101,3058
const char *http_relay_resp_headers(http_relay_resp_headers117,3497
void http_serve(173,5354
void http_err(188,5920
int url_parse(218,6964
static inline void add_crlfnull(275,8232

src/posix_wraps.c,76
void Sem_init(8,159
void Sem_destroy(14,305
void P(20,413
void V(26,496

src/LinkedList.c,619
void PrintLinkedList(23,433
LinkedList AllocateLinkedList(48,908
void FreeLinkedList(62,1112
uint64_t NumElementsInLinkedList(82,1541
bool PushLinkedList(88,1647
bool PopLinkedList(113,2116
bool AppendLinkedList(138,2625
bool SliceLinkedList(170,3294
void SortLinkedList(206,4254
LLIter LLMakeIterator(242,5083
void LLIteratorFree(257,5387
bool LLIteratorHasNext(263,5461
bool LLIteratorNext(275,5646
bool LLIteratorHasPrev(288,5858
bool LLIteratorPrev(299,6051
void LLIteratorGetPayload(310,6244
bool LLIteratorDelete(319,6419
bool LLIteratorMoveToHead(374,7884
bool LLIteratorInsertBefore(403,8523

src/HashTable.c,620
static void NullFree(36,923
HashTable AllocateHashTable(38,963
void FreeHashTable(111,2582
uint64_t NumElementsInHashTable(132,3089
uint64_t FNVHash64(145,3370
uint64_t FNVHashInt64(165,3906
uint64_t HashKeyToBucketNum(177,4121
static int find_key(183,4214
int InsertHashTable(225,5179
int LookupHashTable(283,6689
int RemoveFromHashTable(292,6959
HTIter HashTableMakeIterator(304,7297
static void ResizeHashTable(341,7978
void HTIteratorFree(398,9104
int HTIteratorNext(408,9238
int HTIteratorPastEnd(469,10736
int HTIteratorGet(482,10953
void PrintHashTable(499,11294
int HTIteratorDelete(529,11976

src/includes/defs.h,0

src/includes/sys_wraps.h,0
